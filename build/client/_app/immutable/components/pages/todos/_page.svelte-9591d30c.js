import{N as K,S as fe,i as he,s as pe,k as b,a as P,q as ne,O as _e,l as y,h as k,c as U,m as O,r as oe,n,C as s,b as Z,P as W,Q as me,d as ve,f as ge,t as be,M as le,R as ye,T as Ee,U as we,V as Te,W as se,X as ke,g as Me,Y as Ne,J as Oe}from"../../../chunks/index-61cef232.js";import{c as R}from"../../../chunks/singletons-30fde08e.js";R.disable_scroll_handling;R.goto;R.invalidate;const ue=R.invalidateAll;R.prefetch;R.prefetch_routes;R.before_navigate;R.after_navigate;const Ae=R.apply_action;function X(f,e=()=>{}){const a=async({element:T,form:v,result:r})=>{var h;r.type==="success"&&await ue();const i=(h=T.formAction)!=null?h:v.action;location.origin+location.pathname===i.split("?")[0]&&Ae(r)},t=f instanceof HTMLFormElement?f:f.form;if(!t)throw new Error("Element is not associated with a form");async function u(T){var _,w;T.preventDefault();const v=(_=f.formAction)!=null?_:t.action,r=new FormData(t);let i=!1;const m=(w=e({element:f,data:r,cancel:()=>i=!0,form:t}))!=null?w:a;if(i)return;let E;try{E=await(await fetch(v,{method:"POST",headers:{accept:"application/json"},body:r})).json()}catch(p){E={type:"error",error:p}}m({element:f,data:r,form:t,result:E,get type(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get location(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get error(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")}})}return t.addEventListener("submit",u),{destroy(){t.removeEventListener("submit",u)}}}function de(f){const e=f-1;return e*e*e+1}function re(f,{delay:e=0,duration:a=400,easing:t=de,start:u=0,opacity:T=0}={}){const v=getComputedStyle(f),r=+v.opacity,i=v.transform==="none"?"":v.transform,h=1-u,m=r*(1-T);return{delay:e,duration:a,easing:t,css:(E,_)=>`
			transform: ${i} scale(${1-h*_});
			opacity: ${r-m*_}
		`}}function Pe(f,{from:e,to:a},t={}){const u=getComputedStyle(f),T=u.transform==="none"?"":u.transform,[v,r]=u.transformOrigin.split(" ").map(parseFloat),i=e.left+e.width*v/a.width-(a.left+v),h=e.top+e.height*r/a.height-(a.top+r),{delay:m=0,duration:E=w=>Math.sqrt(w)*120,easing:_=de}=t;return{delay:m,duration:K(E)?E(Math.sqrt(i*i+h*h)):E,easing:_,css:(w,p)=>{const c=p*i,F=p*h,S=w+p*e.width/a.width,M=w+p*e.height/a.height;return`transform: ${T} translate(${c}px, ${F}px) scale(${S}, ${M});`}}}function ie(f,e,a){const t=f.slice();return t[5]=e[a],t[6]=e,t[7]=a,t}function ce(f,e){let a,t,u,T,v,r,i,h,m,E,_,w,p,c,F,S,M,q,B,C,d,o,l,H,V,I,j,x,L,D,Y,z=Oe,A,G,ee;function te(...N){return e[3](e[5],e[6],e[7],...N)}function ae(){return e[4](e[5],e[6],e[7])}return{key:f,first:null,c(){a=b("div"),t=b("form"),u=b("input"),v=P(),r=b("input"),h=P(),m=b("button"),w=P(),p=b("form"),c=b("input"),S=P(),M=b("input"),B=P(),C=b("button"),d=P(),o=b("form"),l=b("input"),V=P(),I=b("button"),L=P(),this.h()},l(N){a=y(N,"DIV",{class:!0});var g=O(a);t=y(g,"FORM",{action:!0,method:!0});var $=O(t);u=y($,"INPUT",{type:!0,name:!0,class:!0}),v=U($),r=y($,"INPUT",{type:!0,name:!0,class:!0}),h=U($),m=y($,"BUTTON",{class:!0,"aria-label":!0}),O(m).forEach(k),$.forEach(k),w=U(g),p=y(g,"FORM",{class:!0,action:!0,method:!0});var J=O(p);c=y(J,"INPUT",{type:!0,name:!0,class:!0}),S=U(J),M=y(J,"INPUT",{"aria-label":!0,type:!0,name:!0,class:!0}),B=U(J),C=y(J,"BUTTON",{class:!0,"aria-label":!0}),O(C).forEach(k),J.forEach(k),d=U(g),o=y(g,"FORM",{action:!0,method:!0});var Q=O(o);l=y(Q,"INPUT",{type:!0,name:!0,class:!0}),V=U(Q),I=y(Q,"BUTTON",{class:!0,"aria-label":!0}),O(I).forEach(k),Q.forEach(k),L=U(g),g.forEach(k),this.h()},h(){n(u,"type","hidden"),n(u,"name","uid"),u.value=T=e[5].uid,n(u,"class","svelte-16nsat"),n(r,"type","hidden"),n(r,"name","done"),r.value=i=e[5].done?"":"true",n(r,"class","svelte-16nsat"),n(m,"class","toggle svelte-16nsat"),n(m,"aria-label",E="Mark todo as "+(e[5].done?"not done":"done")),n(t,"action","/todos?/toggle"),n(t,"method","post"),n(c,"type","hidden"),n(c,"name","uid"),c.value=F=e[5].uid,n(c,"class","svelte-16nsat"),n(M,"aria-label","Edit todo"),n(M,"type","text"),n(M,"name","text"),M.value=q=e[5].text,n(M,"class","svelte-16nsat"),n(C,"class","save svelte-16nsat"),n(C,"aria-label","Save todo"),n(p,"class","text svelte-16nsat"),n(p,"action","/todos?/edit"),n(p,"method","post"),n(l,"type","hidden"),n(l,"name","uid"),l.value=H=e[5].uid,n(l,"class","svelte-16nsat"),n(I,"class","delete svelte-16nsat"),n(I,"aria-label","Delete todo"),I.disabled=j=e[5].pending_delete,n(o,"action","/todos?/delete"),n(o,"method","post"),n(a,"class","todo svelte-16nsat"),le(a,"done",e[5].done),this.first=a},m(N,g){Z(N,a,g),s(a,t),s(t,u),s(t,v),s(t,r),s(t,h),s(t,m),s(a,w),s(a,p),s(p,c),s(p,S),s(p,M),s(p,B),s(p,C),s(a,d),s(a,o),s(o,l),s(o,V),s(o,I),s(a,L),A=!0,G||(ee=[W(_=X.call(null,t,te)),W(X.call(null,p)),W(x=X.call(null,o,ae))],G=!0)},p(N,g){e=N,(!A||g&1&&T!==(T=e[5].uid))&&(u.value=T),(!A||g&1&&i!==(i=e[5].done?"":"true"))&&(r.value=i),(!A||g&1&&E!==(E="Mark todo as "+(e[5].done?"not done":"done")))&&n(m,"aria-label",E),_&&K(_.update)&&g&1&&_.update.call(null,te),(!A||g&1&&F!==(F=e[5].uid))&&(c.value=F),(!A||g&1&&q!==(q=e[5].text)&&M.value!==q)&&(M.value=q),(!A||g&1&&H!==(H=e[5].uid))&&(l.value=H),(!A||g&1&&j!==(j=e[5].pending_delete))&&(I.disabled=j),x&&K(x.update)&&g&1&&x.update.call(null,ae),(!A||g&1)&&le(a,"done",e[5].done)},r(){Y=a.getBoundingClientRect()},f(){ye(a),z(),Ee(a,Y)},a(){z(),z=we(a,Y,Pe,{duration:200})},i(N){A||(N&&Te(()=>{D||(D=se(a,re,{start:.7},!0)),D.run(1)}),A=!0)},o(N){N&&(D||(D=se(a,re,{start:.7},!1)),D.run(0)),A=!1},d(N){N&&k(a),N&&D&&D.end(),G=!1,ke(ee)}}}function Ue(f){let e,a,t,u,T,v,r,i,h,m,E,_,w,p,c=[],F=new Map,S,M,q,B=f[0];const C=d=>d[5].uid;for(let d=0;d<B.length;d+=1){let o=ie(f,B,d),l=C(o);F.set(l,c[d]=ce(l,o))}return{c(){e=b("meta"),a=P(),t=b("section"),u=b("h1"),T=ne("Todos"),v=P(),r=b("div"),i=b("a"),h=b("span"),m=ne("Back to Home page"),E=P(),_=b("form"),w=b("input"),p=P();for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){const o=_e('[data-svelte="svelte-aw2gey"]',document.head);e=y(o,"META",{name:!0,content:!0}),o.forEach(k),a=U(d),t=y(d,"SECTION",{class:!0});var l=O(t);u=y(l,"H1",{class:!0});var H=O(u);T=oe(H,"Todos"),H.forEach(k),v=U(l),r=y(l,"DIV",{class:!0});var V=O(r);i=y(V,"A",{href:!0,class:!0});var I=O(i);h=y(I,"SPAN",{});var j=O(h);m=oe(j,"Back to Home page"),j.forEach(k),I.forEach(k),V.forEach(k),E=U(l),_=y(l,"FORM",{class:!0,action:!0,method:!0});var x=O(_);w=y(x,"INPUT",{name:!0,"aria-label":!0,placeholder:!0,class:!0}),x.forEach(k),p=U(l);for(let L=0;L<c.length;L+=1)c[L].l(l);l.forEach(k),this.h()},h(){document.title="Todos",n(e,"name","description"),n(e,"content","A todo list app"),n(u,"class","text-5xl text-center"),n(i,"href","/"),n(i,"class","flex items-center justify-center bg-blue-500 px-3 py-2 rounded-3xl text-white"),n(r,"class","w-full flex items-center"),n(w,"name","text"),n(w,"aria-label","Add todo"),n(w,"placeholder","+ tap to add a todo"),n(w,"class","svelte-16nsat"),n(_,"class","new svelte-16nsat"),n(_,"action","/todos?/add"),n(_,"method","post"),n(t,"class","todos pt-10 pb-3 px-4 svelte-16nsat")},m(d,o){s(document.head,e),Z(d,a,o),Z(d,t,o),s(t,u),s(u,T),s(t,v),s(t,r),s(r,i),s(i,h),s(h,m),s(t,E),s(t,_),s(_,w),s(t,p);for(let l=0;l<c.length;l+=1)c[l].m(t,null);S=!0,M||(q=W(X.call(null,_,f[1])),M=!0)},p(d,[o]){if(o&1){B=d[0],Me();for(let l=0;l<c.length;l+=1)c[l].r();c=me(c,o,C,1,d,B,F,t,Ne,ce,null,ie);for(let l=0;l<c.length;l+=1)c[l].a();ve()}},i(d){if(!S){for(let o=0;o<B.length;o+=1)ge(c[o]);S=!0}},o(d){for(let o=0;o<c.length;o+=1)be(c[o]);S=!1},d(d){k(e),d&&k(a),d&&k(t);for(let o=0;o<c.length;o+=1)c[o].d();M=!1,q()}}}function Ie(f,e,a){let t,{data:u}=e;const T=({form:i})=>({result:h})=>{h.type==="success"&&(i.reset(),ue())},v=(i,h,m,{data:E})=>{a(0,h[m].done=!!E.get("done"),t)},r=(i,h,m)=>{a(0,h[m].pending_delete=!0,t)};return f.$$set=i=>{"data"in i&&a(2,u=i.data)},f.$$.update=()=>{f.$$.dirty&4&&a(0,t=u.todos)},[t,T,u,v,r]}class Be extends fe{constructor(e){super(),he(this,e,Ie,Ue,pe,{data:2})}}export{Be as default};
